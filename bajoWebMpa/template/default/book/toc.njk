{% extends 'bajoWebBook:/layout/default' %}

{% block body %}
{% cmp 'div', display='flex', justifyContent='between', margin='bottom4' %}
  {% cmp 'h6', displayHeading=6 %}{{ 'Table of Contents'|t }}{% endcmp %}
  {% cmp 'div', display='flex', alignItems='center' %}
    {% cmp 'buttonGroup', outline=true, radio=true, options=[
      { href: '?list=flat', icon: 'list', active: list === 'flat' },
      { href: '?list=nested', icon: 'listNested', active: list === 'nested'  }
    ] %}{% endcmp %}
  {% endcmp %}
{% endcmp %}
{% if list === 'nested' %}
  {% cmp 'tree', tag='ul', options=tree, lineHeight='large' %}{% endcmp %}
{% else %}
  {% cmp 'div', lineHeight='large' %}
    {% for p in pages %}
      {% cmp 'row' %}
        {% if p.level|split('.')|length === 1 %}
          {% cmp 'column', columns=[':auto', 'medium:1'] %}{% cmp 'h5', margin='y3' %}{{ p.level }}{% endcmp %}{% endcmp %}
          {% cmp 'column', columns=[':auto', 'medium:11'] %}{% cmp 'h5', margin='y3' %}{% cmp 'a', href=p.href %}{{ p.title }}{% endcmp %}{% endcmp %}{% endcmp %}
        {% else %}
          {% cmp 'column', columns=[':auto', 'medium:1'] %}{{ p.level }}{% endcmp %}
          {% cmp 'column', columns=[':auto', 'medium:11'] %}{% cmp 'a', href=p.href %}{{ p.title }}{% endcmp %}{% endcmp %}
        {% endif %}
      {% endcmp %}
    {% endfor %}
  {% endcmp %}
{% endif %}
{% endblock %}

{% block css %}{% endblock %}
{% block script %}{% endblock %}
